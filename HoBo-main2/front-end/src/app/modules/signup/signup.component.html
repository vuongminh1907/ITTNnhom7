<div class="popup-header">
  <p class="title">THÊM TÀI KHOẢN </p>
  <button mat-icon-button (click)="closePopup()">
    <mat-icon>clear</mat-icon>
  </button>
</div>

<form class="form-container" [formGroup]="signupForm">
  <div class="fields">
    <div class="column">
      <mat-form-field class="form-row" appearance="outline" color="accent">
        <mat-label>Tên đăng nhập</mat-label>
        <input matInput placeholder="Ex: trongnon123" formControlName="tenDangNhap" />
        <!-- <div class="user-icon" matSuffix></div> -->
        <mat-error *ngIf="signupForm.controls['tenDangNhap'].touched && !signupForm.controls['tenDangNhap'].valid">
          <span *ngIf="signupForm.controls['tenDangNhap'].errors?.['required']">Bạn chưa nhập tên đăng nhập</span>
          <span *ngIf="signupForm.controls['tenDangNhap'].errors?.['pattern']">Tên đăng nhập không chứa dấu cách</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-row" appearance="outline" color="accent">
        <mat-label>Mật khẩu</mat-label>
        <input matInput type="password" placeholder="Ex: Trong@123" formControlName="matKhau" />
        <!-- <div class="key-icon" matSuffix></div> -->
        <mat-error *ngIf="signupForm.controls['matKhau'].touched && !signupForm.controls['matKhau'].valid">
          <span *ngIf="signupForm.controls['matKhau'].errors?.['required']">Bạn chưa nhập mật khẩu</span>
          <span *ngIf="signupForm.controls['matKhau'].errors?.['minlength']">Mật khẩu chứa ít nhất 8 kí tự</span>
          <span
            *ngIf="!(signupForm.controls['matKhau'].errors?.['minlength']) && signupForm.controls['matKhau'].errors?.['pattern']">Mật
            khẩu phải chứa chữ hoa, chữ thường, số và !@#$%^&*</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-row" appearance="outline" color="accent">
        <mat-label>Nhập lại mật khẩu</mat-label>
        <input matInput type="password" placeholder="Ex: Trong@123" formControlName="nhapLaiMk" />
        <!-- <div class="key-icon" matSuffix></div> -->
        <mat-error *ngIf="signupForm.controls['nhapLaiMk'].touched && !signupForm.controls['nhapLaiMk'].valid">
          <span *ngIf="signupForm.controls['nhapLaiMk'].errors?.['required']">Bạn chưa nhập mật khẩu</span>
          <span *ngIf="signupForm.controls['nhapLaiMk'].errors?.['minlength']">Mật khẩu chứa ít nhất 8 kí tự</span>
          <span
            *ngIf="!(signupForm.controls['nhapLaiMk'].errors?.['minlength']) && signupForm.controls['nhapLaiMk'].errors?.['pattern']">Mật
            khẩu phải chứa chữ hoa, chữ
            thường, số và !@#$%^&*</span>
        </mat-error>
      </mat-form-field>
      <mat-form-field class="form-row" appearance="outline" color="accent">
        <mat-label>Họ và tên</mat-label>
        <input matInput placeholder="Ex: Vương Đình Minh" formControlName="hoTen" />
        <!-- <div class="user-icon" matSuffix></div> -->
        <mat-error *ngIf="signupForm.controls['hoTen'].touched && !signupForm.controls['hoTen'].valid">
          <span *ngIf="signupForm.controls['hoTen'].errors?.['required']">Bạn chưa nhập họ và tên</span>
          <span *ngIf="signupForm.controls['hoTen'].errors?.['pattern']">Họ và tên chỉ chứa các chữ cái</span>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="column">
      <mat-form-field class="form-row" appearance="outline" color="accent">
        <mat-label>Email</mat-label>
        <input matInput email placeholder="Ex: hobo123@gmail.com" formControlName="email" />
        <!-- <div class="user-icon" matSuffix></div> -->
        <mat-error *ngIf="!signupForm.controls['email'].valid">
          <span *ngIf="signupForm.controls['email'].errors?.['pattern']">Bạn nhập sai định dạng email</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-row" appearance="outline" color="accent">
        <mat-label>Số điện thoại</mat-label>
        <input matInput placeholder="Ex: 0813197203" formControlName="sdt" />
        <!-- <div class="user-icon" matSuffix></div> -->
        <mat-error *ngIf="!signupForm.controls['sdt'].valid">
          <span *ngIf="signupForm.controls['sdt'].errors?.['pattern']">Bạn nhập sai định dạng số điện thoại</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-row" appearance="outline" color="accent">
        <mat-label>Chức vụ</mat-label>
        <input matInput placeholder="Ex: Tổ trưởng" formControlName="chucVu" />
        <!-- <div class="user-icon" matSuffix></div> -->
        <mat-error *ngIf="!signupForm.controls['chucVu'].valid">
          <span *ngIf="signupForm.controls['chucVu'].errors?.['pattern']">Chức vụ chỉ chứa các chữ cái</span>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-row" appearance="outline" color="accent">
        <mat-label>Nhóm</mat-label>
        <mat-select formControlName="nhom" matInput multiple>
          <mat-option *ngFor="let nhom of nhomList" [value]="nhom.id_nhom">{{nhom.ten_nhom}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
  </div>
  <div class="center-row">
    <button class="signup-btn" mat-flat-button color="accent" style="color: white" [disabled]="signupForm.invalid" (click)="onAddButton()">THÊM TÀI KHOẢN</button>
  </div>
</form>
